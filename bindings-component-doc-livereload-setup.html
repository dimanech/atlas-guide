<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    <meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible"/>

    <title>Atlas - livereload-setup</title>

    <link rel="stylesheet" type="text/css" href="assets/css/dev_atlas.css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/dev_atlas-frame.css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/dev_atlas-prism.css"/>

    <!--
        This is internal asset assetshead.mustache
        To replace it with project CSS imports add to config
        "partials": {
          "assetshead": "path/to/file.mustache"
        }
    -->
</head>
<body class="atlas-page atlas-page_guide">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0" height="0"
     style="width:0;height:0;position:absolute;" aria-hidden="true" focusable="false">
    <defs>
        <linearGradient id="atlas-blue-gradient" x1="0" y1="0" x2="0" y2="100%">
            <stop stop-color="#a7c6ed" offset="60%"></stop>
            <stop stop-color="#ffffff" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="atlas-graph-gradient" x1="0" y1="0" x2="100%" y2="0">
            <stop stop-color="#df4242" offset="0%"></stop>
            <stop stop-color="#7d61ec" offset="50%"></stop>
            <stop stop-color="#2cbbfc" offset="100%"></stop>
        </linearGradient>
        <filter id="blur-filter" x="0" y="0">
            <feGaussianBlur in="SourceGraphic" stdDeviation="3"></feGaussianBlur>
        </filter>
    </defs>
    <symbol id="icon-code-example" viewBox="0 0 24 24">
        <path
            d="M14.304 19.302a.989.989 0 0 0 0 1.407 1.009 1.009 0 0 0 1.418 0l2.955-2.93c.43-.426.43-1.111.009-1.539l-2.974-2.949a1.009 1.009 0 0 0-1.418 0 .989.989 0 0 0 0 1.407l2.327 2.307-2.317 2.297zM9.707 4.698a.988.988 0 0 0 0-1.407 1.01 1.01 0 0 0-1.418 0l-2.966 2.94a1.09 1.09 0 0 0 0 1.548l2.956 2.93a1.01 1.01 0 0 0 1.418 0 .988.988 0 0 0 0-1.407L7.38 7.005l2.327-2.307zm-3 14.009l12-12a1 1 0 1 0-1.414-1.414l-12 12a1 1 0 0 0 1.414 1.414z"
            fill="currentColor"></path>
    </symbol>
    <symbol id="icon-component" viewBox="0 0 24 24">
        <g stroke="currentColor" fill="none" fill-rule="evenodd" stroke-width="1">
            <rect x="4.2352" y="9.2457" width="15.53" height="9.5086"></rect>
            <rect x="13.286" y="5.8617" width="4.3489" height="3.1265"></rect>
            <rect x="6.2226" y="5.9173" width="4.3096" height="3.3029"></rect>
        </g>
    </symbol>
    <symbol id="icon-container" viewBox="0 0 24 24">
        <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="1">
            <rect x="3" y="4.5595" width="18" height="16.44" rx="2" ry="1.8267"></rect>
            <line x1="3" x2="21" y1="10.119" y2="10.119"></line>
            <line x1="9" x2="9" y1="20.296" y2="10.857"></line>
        </g>
    </symbol>
    <symbol id="icon-guide" viewBox="0 0 297.001 297.001">
        <path fill="currentColor"
              d="M287.034,60.873l-20.819-0.001V39.321c0-4.934-3.61-9.126-8.49-9.856c-0.852-0.128-21.134-3.074-45.557,1.37c-27.227,4.954-48.941,17.171-63.668,35.64c-14.728-18.469-36.442-30.686-63.668-35.64c-24.424-4.443-44.706-1.498-45.557-1.37c-4.88,0.731-8.49,4.923-8.49,9.856v21.551H9.966C4.463,60.872,0,65.335,0,70.839v187.805c0,3.227,1.562,6.254,4.193,8.124s6.004,2.35,9.051,1.288c0.748-0.259,75.431-25.747,131.12-0.345c2.628,1.199,5.645,1.199,8.273,0c55.533-25.33,130.376,0.088,131.12,0.345c1.068,0.372,2.174,0.555,3.276,0.555c2.043,0,4.065-0.628,5.775-1.842c2.631-1.87,4.193-4.897,4.193-8.124V70.84C297,65.336,292.538,60.873,287.034,60.873z M19.933,245.309V80.805h10.852v132.726c0,2.896,1.267,5.646,3.458,7.539c2.191,1.893,5.105,2.742,7.969,2.319c0.55-0.08,43.846-6.024,75.478,15.679C78.725,232.405,39.727,240.112,19.933,245.309z M138.534,230.08c-13.932-12.588-32.079-21.1-53.702-25.034c-10.406-1.894-20.06-2.446-27.78-2.446c-2.292,0-4.414,0.049-6.333,0.126V48.473h-0.001c19.155-0.864,65.752,1.184,87.816,38.587V230.08z M158.466,87.061c21.985-37.243,68.655-39.384,87.816-38.563v154.228c-8.383-0.338-20.62-0.136-34.114,2.32c-21.623,3.934-39.77,12.445-53.702,25.034V87.061z M179.277,239.074c31.636-21.716,74.955-15.766,75.495-15.686c2.871,0.431,5.783-0.413,7.981-2.305c2.198-1.894,3.462-4.65,3.462-7.552V80.806h10.852v164.503C257.267,240.11,218.253,232.4,179.277,239.074z"></path>
    </symbol>
    <symbol id="icon-ln" viewBox="0 0 24 24">
        <g stroke="currentColor" fill="none" fill-rule="evenodd" stroke-width="2">
            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </g>
    </symbol>
    <symbol id="icon-insights" viewBox="0 0 1000 1000">
        <g fill="currentColor" transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)">
            <path
                d="M8734.9,3367.3c-408.6-152.6-750-284.5-757.7-294.8c-10.4-7.8,82.8-100.9,204.3-204.3c191.4-165.5,217.2-196.5,188.8-235.3c-18.1-23.3-594.8-687.9-1282.7-1476.7L5835.8-276.7L5096.2,72.5c-406,191.4-809.5,380.2-897.4,419L4041,563.9L2494.5-1259.4L950.6-3085.2l72.4-59.5c41.4-33.6,118.9-93.1,175.8-131.9l98.3-69.8l49.1,56.9C1666.9-2891.2,4149.6,25.9,4165.2,25.9c12.9,0,408.6-181,879.3-403.4c473.3-219.8,868.9-403.5,879.3-406c10.3-2.6,625.8,687.9,1368.1,1533.6c742.2,845.7,1370.7,1562,1396.5,1587.9c46.5,49.1,51.7,44,258.6-137.1c116.4-103.4,219.8-181,227.6-173.3c31,33.6,356.9,1618.9,331,1616.3C9490.1,3641.4,9143.5,3517.3,8734.9,3367.3z"></path>
            <path
                d="M800.6,214.7C451.4-188.7,146.3-545.6,123-576.6c-41.4-56.9-38.8-62.1,108.6-181c85.3-67.2,162.9-121.6,175.9-121.6c18.1,0,677.6,755.2,1065.5,1220.7c36.2,44,72.4,25.9,594.8-318.1c305.2-201.7,569-369.8,584.5-377.6c12.9-5.1,87.9,62.1,162.9,150l134.5,160.3l-667.2,439.7c-367.2,240.5-708.6,465.5-757.7,496.5l-90.5,56.9L800.6,214.7z"></path>
            <path
                d="M9097-330.9c-411.2-165.5-744.8-310.3-744.8-318.1s98.3-93.1,219.8-188.8c121.6-95.7,219.8-183.6,219.8-191.4c0-15.5-887.1-1125-1383.6-1730.1l-108.6-134.5l-1600.8,1050C4819.5-1267.1,4085-791.3,4069.5-783.5c-23.3,7.8-305.2-302.6-287.1-318.1c147.4-108.6,3553.4-2319.8,3579.2-2322.4c20.7,0,421.5,465.5,894.8,1042.2c473.3,576.7,871.5,1050,884.5,1055.1c15.5,2.6,118.9-67.2,232.8-160.3c113.8-93.1,212.1-168.1,219.8-168.1c10.4,0,77.6,351.7,155.2,783.6c75,429.3,142.2,796.6,150,814.6c5.2,15.5-5.2,31-23.3,28.5C9854.7-28.4,9505.6-165.4,9097-330.9z"></path>
        </g>
    </symbol>
    <symbol id="icon-about" viewBox="0 0 496.304 496.303">
        <path fill="currentColor"
              d="M248.146,0C111.314,0,0,111.321,0,248.152c0,136.829,111.314,248.151,248.146,248.151c136.835,0,248.158-111.322,248.158-248.151C496.304,111.321,384.98,0,248.146,0zM248.146,472.093c-123.473,0-223.935-100.459-223.935-223.941c0-123.479,100.462-223.941,223.935-223.941c123.488,0,223.947,100.462,223.947,223.941C472.093,371.634,371.634,472.093,248.146,472.093zM319.536,383.42v32.852c0,1.383-1.123,2.494-2.482,2.494H196.45c-1.374,0-2.482-1.117-2.482-2.494V383.42c0-1.372,1.114-2.482,2.482-2.482h34.744V205.831h-35.101c-1.375,0-2.468-1.111-2.468-2.474v-33.6c0-1.38,1.1-2.479,2.468-2.479h82.293c1.371,0,2.482,1.105,2.482,2.479v211.181h36.186C318.413,380.938,319.536,382.048,319.536,383.42zM209.93,105.927c0-20.895,16.929-37.829,37.829-37.829c20.886,0,37.826,16.935,37.826,37.829s-16.94,37.829-37.826,37.829C226.853,143.756,209.93,126.822,209.93,105.927z"></path>
    </symbol>
    <symbol id="icon-category" viewBox="0 0 779.652 779.652">
        <path fill="currentColor"
              d="M679.503,349.728L151.09,9.181C119.742-7.703,83.832-5.951,83.832,54.688v670.58c0,55.408,38.525,64.17,67.258,45.506l528.442-340.547C701.255,407.975,701.255,371.953,679.503,349.728z"></path>
    </symbol>
    <symbol id="icon-in" viewBox="0 0 24 24">
        <g stroke="currentColor" fill="currentColor" stroke-width="1">
            <path
                d="M 7 12 C 7 8.137 10.137 5 14 5 C 17.863 5 21 8.137 21 12 C 21 15.863 17.863 19 14 19 C 10.137 19 7 15.863 7 12 Z "
                fill="none"></path>
            <line x1="3" y1="12" x2="14" y2="12"></line>
            <path d="M 11.75 14.5 L 16.75 12 L 11.75 9.5 Z" stroke="none"></path>
        </g>
    </symbol>
    <symbol id="icon-out" viewBox="0 0 24 24">
        <g stroke="currentColor" fill="currentColor" stroke-width="1">
            <path
                d="M 7 12 C 7 8.137 10.137 5 14 5 C 17.863 5 21 8.137 21 12 C 21 15.863 17.863 19 14 19 C 10.137 19 7 15.863 7 12 Z "
                fill="none"></path>
            <line x1="3" y1="12" x2="14" y2="12"></line>
            <path d="M 5.25 9.5 L 0.25 12 L 5.25 14.5 Z" stroke="none"></path>
        </g>
    </symbol>
    <symbol id="icon-filter" viewBox="0 0 24 24">
        <g stroke="currentColor" fill="currentColor" stroke-width="1">
            <path
                d="M 2 12 C 2 6.481 6.481 2 12 2 C 17.519 2 22 6.481 22 12 C 22 17.519 17.519 22 12 22 C 6.481 22 2 17.519 2 12 Z "
                fill="none"></path>
            <line x1="7" y1="10" x2="17" y2="10"></line>
            <line x1="9" y1="13" x2="15" y2="13"></line>
            <line x1="11.5" y1="16" x2="12.5" y2="16"></line>
        </g>
    </symbol>
    <symbol id="icon-variable" viewBox="0 0 24 24">
        <g stroke="currentColor" fill="currentColor" stroke-width="1">
            <path d="m5 12c0-3.863 3.137-7 7-7 3.863 0 7 3.137 7 7 0 3.863-3.137 7-7 7-3.863 0-7-3.137-7-7z"
                  fill="none"></path>
            <text x="7.332202" y="15.761719" stroke="none">&gt;</text>
        </g>
    </symbol>
    <symbol id="icon-styleguide" viewBox="0 0 24 24">
        <g stroke="currentColor" fill="white" stroke-width="1">
            <path d="M 19.998 18.399 L 20.028 20.398 C 20.036 20.95 19.594 21.405 19.042 21.413 L 4.044 21.633 C 3.492 21.641 3.038 21.2 3.029 20.648 L 3 18.648 C 2.992 18.096 3.433 17.642 3.985 17.633 L 18.984 17.413 C 19.536 17.405 19.99 17.847 19.998 18.399 Z"></path>
            <path d="M 17.717 10.681 L 18.746 12.396 C 19.031 12.869 18.877 13.484 18.404 13.768 L 5.544 21.49 C 5.071 21.775 4.456 21.621 4.172 21.148 L 3.143 19.433 C 2.859 18.96 3.012 18.345 3.485 18.061 L 16.345 10.339 C 16.818 10.055 17.433 10.208 17.717 10.681 Z"></path>
            <path d="M 11.52 5.734 L 13.259 6.723 C 13.739 6.995 13.907 7.606 13.634 8.086 L 6.223 21.127 C 5.95 21.607 5.339 21.775 4.859 21.502 L 3.12 20.514 C 2.64 20.242 2.472 19.631 2.745 19.151 L 10.157 6.11 C 10.429 5.63 11.04 5.462 11.52 5.734 Z"></path>
            <path d="M 4 4.633 L 6 4.633 C 6.552 4.633 7 5.081 7 5.633 L 7 20.633 C 7 21.185 6.552 21.633 6 21.633 L 4 21.633 C 3.448 21.633 3 21.185 3 20.633 L 3 5.633 C 3 5.081 3.448 4.633 4 4.633 Z"></path>
            <path d=" M 4.409 20.01 C 4.409 19.734 4.634 19.51 4.909 19.51 C 5.185 19.51 5.409 19.734 5.409 20.01 C 5.409 20.286 5.185 20.51 4.909 20.51 C 4.634 20.51 4.409 20.286 4.409 20.01 Z "></path>
        </g>
    </symbol>
    <symbol id="icon-bundle" viewBox="0 0 24 24">
        <g stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" fill="none" stroke-width="1">
            <path d="m1.7236 5.7036v12.021l9.568 3.9775 9.6122-3.9775v-12.021l-9.6122 4.2227z"></path>
            <path d="m1.7236 5.7036 9.568-3.8007 9.6122 3.8007"></path>
            <path d="m11.292 9.9263v11.416"></path>
            <path d="m6.7348 3.6402c3.2098 1.2404 6.375 2.705 9.562 4.0473"></path>
        </g>
    </symbol>
    <symbol id="icon-good" viewBox="0 0 1000 1000">
        <g stroke="none" fill="currentColor" stroke-width="1">
            <path d="M959.4,469.4c-16.9,0-30.6,13.7-30.6,30.6c0,236.4-192.3,428.7-428.7,428.7S71.3,736.4,71.3,500C71.3,263.6,263.6,71.3,500,71.3c93.7,0,182.7,29.7,257.4,85.8c13.5,10.2,32.7,7.4,42.9-6.1c10.2-13.5,7.4-32.7-6.1-42.8C708.8,43.9,607.1,10,500,10C229.8,10,10,229.8,10,500c0,270.2,219.8,490,490,490s490-219.8,490-490C990,483.1,976.3,469.4,959.4,469.4z"></path>
            <path d="M215.4,447.7c-12-12-31.3-12-43.3,0c-12,12-12,31.3,0,43.3l245,245c6,6,13.8,9,21.7,9c7.8,0,15.7-3,21.7-9L981,215.4c12-12,12-31.3,0-43.3c-12-12-31.3-12-43.3,0l-499,499L215.4,447.7z"></path>
        </g>
    </symbol>
    <symbol id="icon-bad" viewBox="0 0 24 24">
        <g stroke="#f15d5c" fill="none" stroke-width="1.5">
            <ellipse cx="12.074" cy="12.081" rx="11.354" ry="11.38" fill="none"></ellipse>
            <path d="m6.7772 17.223 10.446-10.446" stroke-linecap="round"></path>
            <path d="m17.322 17.122-10.644-10.243" stroke-linecap="round"></path>
        </g>
    </symbol>
    <symbol id="icon-triangle" viewBox="0 0 24 24">
        <path fill="currentColor" d=" M 13.64 1.686 L 17.705 8.947 L 21.769 16.208 C 22.599 17.69 21.894 18.893 20.195 18.893 L 12.136 18.893 L 4.078 18.893 C 2.379 18.893 1.674 17.69 2.503 16.208 L 6.568 8.947 L 10.633 1.686 C 11.463 0.203 12.81 0.203 13.64 1.686 Z "></path>
    </symbol>
    <symbol id="icon-circle" viewBox="0 0 24 24">
        <circle fill="currentColor" cx="12" cy="12" r="9"></circle>
    </symbol>
    <symbol id="icon-arrow-up" viewBox="0 0 24 24">
        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
            <path stroke-width="3.068" d="M20.575 3.425L3.221 20.779"></path>
            <path d="M16.236 20.778H3.221V7.763" stroke-width="3.06772"></path>
        </g>
    </symbol>
    <symbol id="icon-arrow-down" viewBox="0 0 24 24">
        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
            <path stroke-width="3.068" d="M3.221 20.779L20.575 3.425"></path>
            <path d="M7.56 3.425h13.015V16.44" stroke-width="3.06772"></path>
        </g>
    </symbol>
    <symbol id="icon-cancel" viewBox="0 0 24 24">
        <g fill="currentColor">
            <rect x="10.106" y="0.124" width="3.929" height="23.612" transform="matrix(-0.707,-0.707,0.707,-0.707,12.169,28.9)"></rect>
            <rect x="10.254" y="-0.208" width="3.929" height="23.739" transform="matrix(-0.707,0.707,-0.707,-0.707,29.103,11.267)"></rect>
        </g>
    </symbol>
</svg>
<div class="l-atlas-container" id="js-atlas-container">
    <div class="l-atlas-container__aside" id="js-atlas-aside" role="contentinfo">
        <script>
            document.getElementById('js-atlas-aside').style.width =
                window.sessionStorage && (window.sessionStorage.getItem('asideWidth')) ?
                    window.sessionStorage.getItem('asideWidth') + 'px' : '';
        </script>
        <div class="atlas-aside">
            <div class="atlas-aside__header">
                <div class="atlas-header">
                    <div class="atlas-header__logo" role="banner">
                        <svg width="60" height="30" version="1.1" viewBox="0 0 98.599998 52.414875" xmlns="http://www.w3.org/2000/svg">
                            <g fill="none" stroke="currentColor" transform="translate(0 -.00024594)">
                                <path d="m30.933 5.5253l2.0368-4.8711"/>
                                <path d="m11.6 51.761l1.4749-3.5272"/>
                                <path d="m35.931 42.833c-3.7397 3.0367-8.5656 4.8672-13.831 4.8672-11.866 0-21.5-9.296-21.5-20.745 0-11.45 9.634-20.746 21.5-20.746 9.1935 0 17.047 5.5801 20.118 13.419"/>
                            </g>
                            <g aria-label="Atlas" fill="currentColor">
                                <path d="m27.194 33.712-2.472 5.952h-1.224l7.224-17.28h0.672l7.248 17.28h-1.296l-2.472-5.952zm3.792-9.408q-0.024 0.024-0.096 0.288-0.336 1.032-0.648 1.752l-2.64 6.384h6.864l-2.64-6.36q-0.84-1.824-0.84-2.064z"/>
                                <path d="m43.028 25.072h-5.28v-0.984h11.64v0.984h-5.28v14.592h-1.08z"/>
                                <path d="m52.666 39.664v-15.576h1.104v14.568h7.152v1.008z"/>
                                <path d="m64.965 34.264-2.232 5.4h-1.128l6.528-15.672h0.648l6.576 15.672h-1.224l-2.256-5.4zm3.432-8.496q-0.36 1.08-0.648 1.8l-2.4 5.76h6.144l-2.376-5.736q-0.552-1.344-0.72-1.824z"/>
                                <path d="m81.685 24.76q-1.296 0-2.112 0.624t-0.816 1.752q0 1.296 1.08 2.328 0.768 0.744 1.968 1.584 1.224 0.816 1.68 1.176t1.104 0.984q1.176 1.176 1.176 2.712 0 1.992-1.344 3.024-1.32 1.008-3.72 1.008-2.376 0-3.984-1.248l0.576-0.84q1.632 1.104 3.456 1.104t2.832-0.768q1.032-0.768 1.032-2.16 0-1.2-1.032-2.208-0.72-0.72-1.944-1.56-1.2-0.84-1.68-1.2-0.48-0.384-1.128-1.008-1.224-1.224-1.224-2.832t1.128-2.52q1.152-0.912 3.168-0.912t3.624 0.792l-0.408 0.888q-1.488-0.72-3.432-0.72z"/>
                            </g>
                        </svg>
                    </div>
                    <div class="atlas-header__search">
                        <div class="atlas-search" role="search">
                            <svg class="atlas-search__icon" width="14" height="14" role="img"><use xlink:href="#icon-filter"></use></svg>
                            <input class="atlas-search__input" type="search" id="js-atlas-search" placeholder="Filter" />
                            <button class="atlas-search__clear" id="js-atlas-search-clear" title="Clear input">
                                <svg width="8" height="14" role="img"><use xlink:href="#icon-cancel"></use></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="atlas-aside__content" role="navigation" id="js-atlas-aside-content">
                <div class="atlas-nav" role="list" id="js-atlas-navigation">
                        <div role="listitem" class="atlas-nav__item atlas-nav__item_category">
                            <a class="atlas-nav__ln _category  js-atlas-nav-ln" 
                                data-name="bindings">
                                <svg width="14" height="14" role="img"><use xlink:href="#icon-category"></use></svg>
                                bindings
                            </a>
                                <div role="list" class="atlas-nav__sub-nav">
                                        <div role="listitem" class="atlas-nav__item atlas-nav__item_category">
                                            <a class="atlas-nav__ln _category  js-atlas-nav-ln" 
                                                data-name="component">
                                                <svg width="14" height="14" role="img"><use xlink:href="#icon-category"></use></svg>
                                                component
                                            </a>
                                                <div role="list" class="atlas-nav__sub-nav">
                                                        <div role="listitem" class="atlas-nav__item atlas-nav__item_guide">
                                                            <a class="atlas-nav__ln _guide  js-atlas-nav-ln" href="bindings-component-doc-livereload-setup.html" id="nav-bindings-component-doc-livereload-setup"
                                                                data-name="livereload-setup">
                                                                <svg width="14" height="14" role="img"><use xlink:href="#icon-guide"></use></svg>
                                                                livereload-setup
                                                            </a>
                                                        </div>
                                                </div>
                                        </div>
                                        <div role="listitem" class="atlas-nav__item atlas-nav__item_category">
                                            <a class="atlas-nav__ln _category  js-atlas-nav-ln" 
                                                data-name="frame">
                                                <svg width="14" height="14" role="img"><use xlink:href="#icon-category"></use></svg>
                                                frame
                                            </a>
                                                <div role="list" class="atlas-nav__sub-nav">
                                                        <div role="listitem" class="atlas-nav__item atlas-nav__item_component">
                                                            <a class="atlas-nav__ln _component  js-atlas-nav-ln" href="bindings-frame-b-atlas-component.html" id="nav-bindings-frame-b-atlas-component"
                                                                data-name="b-atlas-component">
                                                                <svg width="14" height="14" role="img"><use xlink:href="#icon-component"></use></svg>
                                                                b-atlas-component
                                                            </a>
                                                        </div>
                                                        <div role="listitem" class="atlas-nav__item atlas-nav__item_container">
                                                            <a class="atlas-nav__ln _container  js-atlas-nav-ln" href="bindings-frame-l-atlas-container.html" id="nav-bindings-frame-l-atlas-container"
                                                                data-name="l-atlas-container">
                                                                <svg width="14" height="14" role="img"><use xlink:href="#icon-container"></use></svg>
                                                                l-atlas-container
                                                            </a>
                                                        </div>
                                                </div>
                                        </div>
                                        <div role="listitem" class="atlas-nav__item atlas-nav__item_category">
                                            <a class="atlas-nav__ln _category  js-atlas-nav-ln" 
                                                data-name="global">
                                                <svg width="14" height="14" role="img"><use xlink:href="#icon-category"></use></svg>
                                                global
                                            </a>
                                                <div role="list" class="atlas-nav__sub-nav">
                                                        <div role="listitem" class="atlas-nav__item atlas-nav__item_component">
                                                            <a class="atlas-nav__ln _component _deprecated js-atlas-nav-ln" href="bindings-global-b-atlas-bar_deprecated.html" id="nav-bindings-global-b-atlas-bar_deprecated"
                                                                data-name="b-atlas-bar_deprecated">
                                                                <svg width="14" height="14" role="img"><use xlink:href="#icon-component"></use></svg>
                                                                b-atlas-bar_deprecated
                                                            </a>
                                                        </div>
                                                </div>
                                        </div>
                                </div>
                        </div>
                        <div role="listitem" class="atlas-nav__item atlas-nav__item_about">
                            <a class="atlas-nav__ln _about  js-atlas-nav-ln" href="index.html" id="nav-index"
                                data-name="About">
                                <svg width="14" height="14" role="img"><use xlink:href="#icon-about"></use></svg>
                                About
                            </a>
                        </div>
                        <div role="listitem" class="atlas-nav__item atlas-nav__item_styleguide">
                            <a class="atlas-nav__ln _styleguide  js-atlas-nav-ln" href="styleguide.html" id="nav-styleguide"
                                data-name="Styleguide">
                                <svg width="14" height="14" role="img"><use xlink:href="#icon-styleguide"></use></svg>
                                Styleguide
                            </a>
                        </div>

                    <div class="atlas-nav__item" role="listitem">
                        <a class="atlas-nav__ln _bundle js-atlas-nav-ln" href="bundle.html" id="nav-bundle" data-name="bundle">
                            <svg width="14" height="14" role="img">
                                <use xlink:href="#icon-bundle"></use>
                            </svg>
                            Bundle
                        </a>
                    </div>
                    <div class="atlas-nav__item" role="listitem">
                        <a class="atlas-nav__ln _insights js-atlas-nav-ln" href="insights.html" id="nav-insights" data-name="insights">
                            <svg width="14" height="14" role="img">
                                <use xlink:href="#icon-insights"></use>
                            </svg>
                            Insights
                        </a>
                    </div>
                </div>
                <script>
                    const atlasContentPosition = window.sessionStorage && (window.sessionStorage.getItem('navigationScroll')) ?
                        window.sessionStorage.getItem('navigationScroll') : '';
                    document.getElementById('js-atlas-aside-content').scrollTo(0, atlasContentPosition);
                </script>
            </div>
            <div class="atlas-aside__footer">
                <p class="atlas-footer-copyright">
                    &copy; 2020
                    atlas-guide
                    2.2.0
                </p>
            </div>
        </div>
        <button class="atlas-aside-ctrl" id="js-atlas-aside-resizer" title="Double click to toggle aside"></button>
        <div class="atlas-aside-resizer-overlay" id="js-atlas-aside-resizer-overlay"></div>
    </div>
    <main role="main" class="l-atlas-container__main" id="js-atlas-main">
        <script>
            document.getElementById('js-atlas-main').style.marginLeft =
                window.sessionStorage && window.sessionStorage.getItem('asideWidth') ?
                    window.sessionStorage.getItem('asideWidth') + 'px' : '';
        </script>
        <div class="atlas-content">
            <div class="atlas-content__inner">


<div class="atlas-toc" role="directory">
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_1" href="#h1-set-up-compilation-and-live-reload">
                Set up compilation and live reload
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_2" href="#h2-atlas-compilation-with-gulp">
                Atlas compilation with gulp
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-standard-workflow-generate-all-components-and-rebuild-single-page">
                Standard workflow - generate all components and rebuild single page
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-deploy-workflow-generate-all-pages-and-reports">
                Deploy workflow - generate all pages and reports
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_4" href="#h4-cli">
                CLI
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_4" href="#h4-gulp">
                Gulp
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_2" href="#h2-incremental-sass-compilation">
                Incremental sass compilation
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-building-sass-imports-graph">
                Building sass imports graph
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-get-affected-file-path">
                Get affected file path
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-compile-sass">
                Compile sass
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-gulp-setup">
                Gulp setup
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_2" href="#h2-live-reload-with-gulp-and-connect">
                Live reload with gulp and connect
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-setup-local-server">
                Setup local server
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-reload-page-or-scss-on-resource-change">
                Reload page or scss on resource change
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-tasks-sequences-in-gulp">
                Tasks sequences in gulp
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_4" href="#h4-gulp-4-example">
                Gulp 4 example
            </a>
        </div>
        <div class="atlas-toc__item" role="listitem">
            <a class="atlas-toc__ln atlas-toc__ln_3" href="#h3-setup-livereload-on-production-site">
                Setup livereload on production site
            </a>
        </div>
</div>

<section><!-- this is hacky, but we have sections in markdown, so we need to open and close it on wrapper -->
        </section>
    <section class="atlas-section">
<span class="atlas-anchor" id="h1-set-up-compilation-and-live-reload"></span>
<h1 class="atlas atlas-title atlas-title_1">
    <span class="atlas-title__text">
        Set up compilation and live reload
    </span>
    <a class="atlas-title__anchor" href="#h1-set-up-compilation-and-live-reload" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h1>
<p class="atlas atlas-p">Since Atlas is static page generator it is not provide any functionality for serving, livereloading and development setup.
This intended to not depend from project infrastructure.</p>
<p class="atlas atlas-p">This page is also example of how regular markdown files will be used to create guideline page.</p>
    </section>
    <section class="atlas-section">
<span class="atlas-anchor" id="h2-atlas-compilation-with-gulp"></span>
<h2 class="atlas atlas-title atlas-title_2">
    <span class="atlas-title__text">
        Atlas compilation with gulp
    </span>
    <a class="atlas-title__anchor" href="#h2-atlas-compilation-with-gulp" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h2>
<p class="atlas atlas-p">Atlas designed as styleguide-driven-development tool and has 3 variants of work:</p>
<ol class="atlas atlas-ol">
	<li>single page generation</li>
<li>all components page generation</li>
<li>reports generation</li>

</ol>
<p class="atlas atlas-p">With this you could achieve speed and performance with development tasks.</p>
<span class="atlas-anchor" id="h3-standard-workflow-generate-all-components-and-rebuild-single-page"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Standard workflow - generate all components and rebuild single page
    </span>
    <a class="atlas-title__anchor" href="#h3-standard-workflow-generate-all-components-and-rebuild-single-page" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">For standard development flow you need:</p>
<ol class="atlas atlas-ol">
	<li>generate all components on start (because it could be changed from last running)</li>
<li>rebuild changed page when source file is changed</li>

</ol>
<p class="atlas atlas-p">This two tasks could be easily achieved with gulp:</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">let generateFilePath &#x3D; [];
const atlas &#x3D; require(&#39;atlas-guide&#39;).withConfig(&#39;.&#x2F;.atlasrc.json&#39;);

&#x2F;&#x2F; Build all components pages
gulp.task(&#39;atlas:compile&#39;, () &#x3D;&gt; atlas.build());

&#x2F;&#x2F; Compile particular page from the guide, but before compile changed styles
gulp.task(&#39;atlas:compile:incremental&#39;, [&#39;styles:compile:incremental&#39;], () &#x3D;&gt; atlas.build(changedFilePath)); &#x2F;&#x2F; rebuild only changed file);

&#x2F;&#x2F; Compile Guide and watch changes
gulp.task(&#39;atlas:watch&#39;, () &#x3D;&gt; {
    createImportsGraph(); &#x2F;&#x2F; used for incremental sass compilation
    gulp.watch(
        [pathConfig.ui.core.sass.src + &#39;**&#x2F;*.scss&#39;, pathConfig.ui.core.sass.src + &#39;**&#x2F;*.md&#39;], &#x2F;&#x2F; watch for sass and md files
        [&#39;devServ:reload:guide&#39;]
    ).on(&#39;change&#39;, event &#x3D;&gt; {
        changedFilePath &#x3D; event.path;
    });
});

&#x2F;&#x2F; 1. compile all sass
&#x2F;&#x2F; 2. build all components pages on start only
&#x2F;&#x2F; 3. watch for changes and rebuild particular page
gulp.task(&#39;dev:guide&#39;, [&#39;styles:compile:all&#39;, &#39;atlas:compile&#39;, &#39;atlas:watch&#39;]);</code></pre>
</div>
<p class="atlas atlas-p">No need to say that for some cases this workflow could be organized even aggressive – when only changed page will be generated from start.</p>
<span class="atlas-anchor" id="h3-deploy-workflow-generate-all-pages-and-reports"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Deploy workflow - generate all pages and reports
    </span>
    <a class="atlas-title__anchor" href="#h3-deploy-workflow-generate-all-pages-and-reports" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">You probably don&#39;t need reports and all global statistic on daily work. By this reasons this tasks is moved to separate functions.</p>
<p class="atlas atlas-p">To build all pages and statistics you could use several way - npm scripts, regular js and task runners.
We show most simple way, by using CLI.</p>
<span class="atlas-anchor" id="h4-cli"></span>
<h4 class="atlas atlas-title atlas-title_4">
    <span class="atlas-title__text">
        CLI
    </span>
    <a class="atlas-title__anchor" href="#h4-cli" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h4>
<div class="atlas atlas-code json">
<pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;build:guide&quot;: &quot;atlas-guide --build&#x3D;.&#x2F;.atlasrc.json&quot;
  }
}</code></pre>
</div>
<p class="atlas atlas-p">But if you use it with deploy you probably need to build all scss before build atlas. So it would look like this:</p>
<div class="atlas atlas-code json">
<pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;build:guide&quot;: &quot;node-sass &#x2F;path&#x2F;to&#x2F;scss -o &#x2F;path&#x2F;to&#x2F;css --output-style compressed &amp;&amp; atlas-guide --build&#x3D;.&#x2F;.atlasrc.json&quot;
  }
}</code></pre>
</div>
<span class="atlas-anchor" id="h4-gulp"></span>
<h4 class="atlas atlas-title atlas-title_4">
    <span class="atlas-title__text">
        Gulp
    </span>
    <a class="atlas-title__anchor" href="#h4-gulp" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h4>
<p class="atlas atlas-p">This also could be achieved with gulp:</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">gulp.task(&#39;atlas:compile:all&#39;, () &#x3D;&gt; {
    return require(&#39;atlas-guide&#39;).withConfig(&#39;.&#x2F;.atlasrc.json&#39;).buildAll();
});
gulp.task(&#39;build&#39;, [&#39;styles:compile:all&#39;, &#39;atlas:compile:all&#39;]);</code></pre>
</div>
<p class="atlas atlas-p">so npm scripts could be changed to this:</p>
<div class="atlas atlas-code json">
<pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;build:guide&quot;: &quot;gulp build&quot;
  }
}</code></pre>
</div>
    </section>
    <section class="atlas-section">
<span class="atlas-anchor" id="h2-incremental-sass-compilation"></span>
<h2 class="atlas atlas-title atlas-title_2">
    <span class="atlas-title__text">
        Incremental sass compilation
    </span>
    <a class="atlas-title__anchor" href="#h2-incremental-sass-compilation" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h2>
<p class="atlas atlas-p">The first and the most problem that you faced when you start to work with many components that bundled to many separate files is that it is not trivial to compile only changed files in gulp.</p>
<p class="atlas atlas-p">Naive approach to pass all scss files overload the whole system and decrease development flow performance.
All unneeded files are compiled, uploaded and reloaded on each single file change.</p>
<p class="atlas atlas-p">This is not trivial to guess relation of sass files. Nor sass, neither node wrapper not provide any info about imports path (node-sass &quot;native&quot; watch use dependency graph to compile only needed files).
So for this case we need to build custom imports graph from our project. Lucky we have tool called <code>sass-graph</code> that could be used to get this graph.</p>
<span class="atlas-anchor" id="h3-building-sass-imports-graph"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Building sass imports graph
    </span>
    <a class="atlas-title__anchor" href="#h3-building-sass-imports-graph" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">So as the first step we need to create dependency graph on each task-runner start.</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">let importsGraph;

const createImportsGraph &#x3D; function() {
    importsGraph &#x3D; require(&#39;sass-graph&#39;).parseDir(pathConfig.ui.core.sass.src, {
        loadPaths: [pathConfig.ui.lib.resources]
    });
};</code></pre>
</div>
<span class="atlas-anchor" id="h3-get-affected-file-path"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Get affected file path
    </span>
    <a class="atlas-title__anchor" href="#h3-get-affected-file-path" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">The second step is to get the path to the standalone file that imports particular changed file.</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">&#x2F;**
 * Get file path that should be compiled
 * @param {string} changedFile - changed file path
 * @return {array} pathsArray - Array of strings. Path to the main scss files that
 * includes changed file.
 *&#x2F;
const getResultedFilesList &#x3D; changedFile &#x3D;&gt; {
    if (path.extname(changedFile) !&#x3D;&#x3D; &#39;.scss&#39;) {
        return [];
    }

    let resultedFilesPath &#x3D; [];

    if (!path.basename(changedFile).match(&#x2F;^_&#x2F;)) {
        resultedFilesPath.push(changedFile);
        createImportsGraph(); &#x2F;&#x2F; Rebuild imports graph since standalone files could contain new imports after change
    } else {
        importsGraph.visitAncestors(changedFile, parent &#x3D;&gt; { &#x2F;&#x2F; get all files that have imports of changed file
            if (!path.basename(parent).match(&#x2F;^_&#x2F;)) {
                resultedFilesPath.push(parent);
            }
        });
    }

    return resultedFilesPath;
};</code></pre>
</div>
<p class="atlas atlas-p">To deal with tasks relations in gulp we need to add another variable to this function to get resulted files that we need to reload (this needed if you need to reload only css or the whole page):</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">const getResultedFilesList &#x3D; changedFile &#x3D;&gt; {
    &#x2F;&#x2F; Ensure that changed file is Sass file
    if (path.extname(changedFile) !&#x3D;&#x3D; &#39;.scss&#39;) {
        return [];
    }

    let resultedFilesPath &#x3D; []; &#x2F;&#x2F; used for compilation
    let resultedCSSPaths &#x3D; []; &#x2F;&#x2F; used for reload
    const getResultedCSSPath &#x3D; path &#x3D;&gt; path
        .replace(pathConfig.ui.core.sass.src, pathConfig.ui.core.sass.dest)
        .replace(&#39;.scss&#39;, &#39;.css&#39;);

    if (!path.basename(changedFile).match(&#x2F;^_&#x2F;)) {
        resultedFilesPath.push(changedFile);
        resultedCSSPaths &#x3D; [getResultedCSSPath(changedFile)];
        createImportsGraph(); &#x2F;&#x2F; Rebuild imports graph
    } else {
        importsGraph.visitAncestors(changedFile, parent &#x3D;&gt; {
            if (!path.basename(parent).match(&#x2F;^_&#x2F;)) {
                resultedFilesPath.push(parent);
                resultedCSSPaths.push(getResultedCSSPath(parent));
            }
        });
    }

    generateFilePath &#x3D; resultedCSSPaths;
    return resultedFilesPath;
};</code></pre>
</div>
<span class="atlas-anchor" id="h3-compile-sass"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Compile sass
    </span>
    <a class="atlas-title__anchor" href="#h3-compile-sass" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">And the sass compilation:</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">&#x2F;**
 * Configurable Sass compilation
 * @param {Object} config
 *&#x2F;
const sassCompile &#x3D; config &#x3D;&gt; {
    const sass &#x3D; require(&#39;gulp-sass&#39;);
    const postcss &#x3D; require(&#39;gulp-postcss&#39;);
    const autoprefixer &#x3D; require(&#39;autoprefixer&#39;);
    const sourcemaps &#x3D; require(&#39;gulp-sourcemaps&#39;);

    const postProcessors &#x3D; [
        autoprefixer({
            flexbox: &#39;no-2009&#39;
        })
    ];

    return gulp.src(config.source)
        .pipe(sourcemaps.init({
            loadMaps: true,
            largeFile: true
        }))
        .pipe(sass({ &#x2F;&#x2F; this config match rust sass implementation
            includePaths: config.alsoSearchIn,
            sourceMap: false,
            outputStyle: &#39;compressed&#39;,
            indentType: &#39;tab&#39;,
            indentWidth: &#39;1&#39;,
            linefeed: &#39;lf&#39;,
            precision: 10,
            errLogToConsole: true
        }))
        .on(&#39;error&#39;, function (error) { &#x2F;&#x2F; this not disconnect pipe on error
            console.log(&#39;\x07&#39;);
            console.log(&#39;\x1b[35m&#39; + error.message + &#39;\x1b[0m&#39;);
            this.emit(&#39;end&#39;);
        })
        .pipe(postcss(postProcessors))
        .pipe(sourcemaps.write(&#39;.&#39;))
        .pipe(gulp.dest(config.dest));
};</code></pre>
</div>
<span class="atlas-anchor" id="h3-gulp-setup"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Gulp setup
    </span>
    <a class="atlas-title__anchor" href="#h3-gulp-setup" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">And the gulp tasks that glue all together.
For this we use approach with global vars that store state that is conceptually not a part of gulp approach, but it is most simple solution.</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">let changedFilePath &#x3D; &#39;&#39;;
let generateFilePath &#x3D; [];
let importsGraph;

&#x2F;&#x2F; all mentioned below stuff

gulp.task(&#39;styles:compile:all&#39;, () &#x3D;&gt; {
    return sassCompile({
        source: pathConfig.ui.core.sass.src + &#39;*.scss&#39;, &#x2F;&#x2F; compile all files
        dest: pathConfig.ui.core.sass.dest,
        alsoSearchIn: [pathConfig.ui.lib.resources]
    });
});

gulp.task(&#39;styles:compile:incremental&#39;, () &#x3D;&gt; {
    return sassCompile({
        source: getResultedFilesList(changedFilePath), &#x2F;&#x2F; compile only changed files array
        dest: pathConfig.ui.core.sass.dest,
        alsoSearchIn: [pathConfig.ui.lib.resources]
    });
});

gulp.task(&#39;styles:watch&#39;, () &#x3D;&gt; {
    createImportsGraph();
    gulp.watch(
        pathConfig.ui.core.sass.src + &#39;**&#x2F;*.scss&#39;,
        [&#39;devServ:reload:styles&#39;]
    ).on(&#39;change&#39;, event &#x3D;&gt; {
        changedFilePath &#x3D; event.path; &#x2F;&#x2F; when event is fired we store changed file path to global var that we use in styles:compile:incremental
    });
});</code></pre>
</div>
    </section>
    <section class="atlas-section">
<span class="atlas-anchor" id="h2-live-reload-with-gulp-and-connect"></span>
<h2 class="atlas atlas-title atlas-title_2">
    <span class="atlas-title__text">
        Live reload with gulp and connect
    </span>
    <a class="atlas-title__anchor" href="#h2-live-reload-with-gulp-and-connect" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h2>
<p class="atlas atlas-p">Live reload could be easily setup with gulp and connect. All you need is one single plugin <code>gulp-connect</code> that have both <code>connect</code> and <code>connect-liverelod</code> out of the box.</p>
<span class="atlas-anchor" id="h3-setup-local-server"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Setup local server
    </span>
    <a class="atlas-title__anchor" href="#h3-setup-local-server" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">First of all you need to setup local server and serve all your project static resources.
We serve both Atlas and project assets (so we could use livereload on live project with few simple steps):</p>
<div class="atlas atlas-code ">
<pre><code class="language-">root: [
    pathConfig.ui.core.resources,
    pathConfig.ui.guide.resources
],</code></pre>
</div>
<p class="atlas atlas-p">Than you need to workaround for CORS and https (that probably used on your project).</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">gulp.task(&#39;devServ:up&#39;, () &#x3D;&gt; {
    const cors &#x3D; (req, res, next) &#x3D;&gt; {
        res.setHeader(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);
        next();
    };

    return connect.server({
        root: [
            pathConfig.ui.core.resources,
            pathConfig.ui.guide.resources
        ],
        port: 5000,
        host: &#39;127.0.0.1&#39;,
        livereload: {
            start: true,
            port: 9000
        },
        middleware() {
            return [cors];
        },
        https: true
    });
});</code></pre>
</div>
<span class="atlas-anchor" id="h3-reload-page-or-scss-on-resource-change"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Reload page or scss on resource change
    </span>
    <a class="atlas-title__anchor" href="#h3-reload-page-or-scss-on-resource-change" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">To make livereload works you need to trigger <code>connect.reload()</code> after file is changed. This could be done both as pipe:</p>
<div class="atlas atlas-code ">
<pre><code class="language-">...
.pipe(connect.reload())</code></pre>
</div>
<p class="atlas atlas-p">or standalone task:</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">gulp.task(&#39;devServ:reload:styles&#39;, [&#39;styles:compile:incremental&#39;], function () {
    return gulp.src(generateFilePath) &#x2F;&#x2F; css only reload when &#x2F;path&#x2F;to&#x2F;file.css is passed to the &#x60;src&#x60;
        .pipe(connect.reload());
});</code></pre>
</div>
<p class="atlas atlas-p">Depending of what resource is passed to the stream the whole html or single scss will be reloaded.
You need to count this to organize proper flow.</p>
<span class="atlas-anchor" id="h3-tasks-sequences-in-gulp"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Tasks sequences in gulp
    </span>
    <a class="atlas-title__anchor" href="#h3-tasks-sequences-in-gulp" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">To proper organize live-reloading you need to run you task in sequence &quot;change css&quot; -&gt; &quot;build atlas page&quot; -&gt; &quot;reload atlas&quot;.</p>
<p class="atlas atlas-p">One thing that you should know about gulp that all tasks by default runs in parallel rather in sequences.</p>
<p class="atlas atlas-p">With gulp 3 you could use several ways to organize your tasks into sequences - 2nd argument of <code>task()</code> or use <code>gulp-sequences</code> plugin.
In gulp 4 sequences is the standard feature.</p>
<p class="atlas atlas-p">Gulp 3 build in sequences:</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">
&#x2F;&#x2F; Reload the CSS links right after &#39;styles:compile:incremental&#39; task is returned
gulp.task(&#39;devServ:reload:styles&#39;, [&#39;styles:compile:incremental&#39;], () &#x3D;&gt;
    gulp.src(generateFilePath) &#x2F;&#x2F; css only reload
        .pipe(connect.reload()));

&#x2F;&#x2F; Reload the page right after &#39;atlas:compile:incremental&#39; task is returned
gulp.task(&#39;devServ:reload:guide&#39;, [&#39;atlas:compile:incremental&#39;], () &#x3D;&gt;
    gulp.src(pathConfig.ui.guide.resources + &#39;*.html&#39;) &#x2F;&#x2F; full page reload
        .pipe(connect.reload()));</code></pre>
</div>
<p class="atlas atlas-p">So tasks structure should be like this:</p>
<div class="atlas atlas-code ">
<pre><code class="language-">gulp.task(&#39;styles:compile:incremental&#39;, ...)
gulp.task(&#39;devServ:reload:styles&#39;, [&#39;styles:compile:incremental&#39;], ...)

gulp.task(&#39;atlas:compile:incremental&#39;, [&#39;styles:compile:incremental&#39;], ...)
gulp.task(&#39;devServ:reload:guide&#39;, [&#39;atlas:compile:incremental&#39;], ...)</code></pre>
</div>
<p class="atlas atlas-p">If you use all this stuff as separate tasks you need to pass</p>
<p class="atlas atlas-p">and complex tasks:</p>
<div class="atlas atlas-code js">
<pre><code class="language-js">gulp.task(&#39;dev&#39;, [&#39;devServ:up&#39;, &#39;styles:compile:all&#39;, &#39;styles:watch&#39;]);
gulp.task(&#39;dev:atlas&#39;, [&#39;devServ:up&#39;, &#39;styles:compile:all&#39;, &#39;atlas:compile:all&#39;, &#39;atlas:watch&#39;]);</code></pre>
</div>
<span class="atlas-anchor" id="h4-gulp-4-example"></span>
<h4 class="atlas atlas-title atlas-title_4">
    <span class="atlas-title__text">
        Gulp 4 example
    </span>
    <a class="atlas-title__anchor" href="#h4-gulp-4-example" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h4>
<div class="atlas atlas-code js">
<pre><code class="language-js">gulp.task(&#39;styles:watch&#39;, done &#x3D;&gt; {
    createImportsGraph();
    gulp.watch(
        pathConfig.ui.core.sass.src + &#39;**&#x2F;*.scss&#39;,
        gulp.series(&#39;styles:compile:incremental&#39;, &#39;server:reload:styles&#39;)
    ).on(&#39;change&#39;, notifyChange);
    done();
});

gulp.task(&#39;atlas:watch&#39;, done &#x3D;&gt; {
    createImportsGraph();
    gulp.watch(
        [pathConfig.ui.core.sass.src + &#39;**&#x2F;*.scss&#39;, pathConfig.ui.core.sass.src + &#39;**&#x2F;*.md&#39;],
        gulp.series(&#39;styles:compile:incremental&#39;, &#39;atlas:compile:incremental&#39;, &#39;server:reload:guide&#39;)
    ).on(&#39;change&#39;, notifyChange);
    return done();
});</code></pre>
</div>
<span class="atlas-anchor" id="h3-setup-livereload-on-production-site"></span>
<h3 class="atlas atlas-title atlas-title_3">
    <span class="atlas-title__text">
        Setup livereload on production site
    </span>
    <a class="atlas-title__anchor" href="#h3-setup-livereload-on-production-site" title="Copy link to this title">
        <svg width="14" height="14" role="img">
            <use xlink:href="#icon-ln"></use>
        </svg>
    </a>
    <span class="atlas-title__highlight"></span>
</h3>
<p class="atlas atlas-p">To use livereload on &quot;remote&quot; or sandbox instance you could use the described setup without any changes.
The idea is instead of site resource use local resource trigger reload as always.</p>
<p class="atlas atlas-p">Just add to your templates:</p>
<div class="atlas atlas-code html">
<pre><code class="language-html">&lt;?php if ($useLocal): ?&gt;
    &lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;https:&#x2F;&#x2F;127.0.0.1:5000&#x2F;style.css&quot; &#x2F;&gt;
&lt;?php else: ?&gt;
    &lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;path&#x2F;to&#x2F;style.css&quot; &#x2F;&gt;
&lt;?php endif; ?&gt;</code></pre>
</div>
<p class="atlas atlas-p">and in footer</p>
<div class="atlas atlas-code html">
<pre><code class="language-html">&lt;?php if ($useLocal): ?&gt;
    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;127.0.0.1:9000&#x2F;livereload.js&quot;&gt;&lt;&#x2F;script&gt;
&lt;?php endif; ?&gt;</code></pre>
</div>
<p class="atlas atlas-p">Than you could set using local resource innsted of site resource by http parameter or cookie.</p>
<hr class="atlas atlas-hr" />
<p class="atlas atlas-p">Please see this project gulp file to get the idea how live reload and incremental scss compilation could be organized.</p>
<p class="atlas atlas-p"><code>gulp3</code> example could be found in <a href="https://github.com/dimanech/atlas-guide/blob/84fb58a48d1ce78aa978ece46e96b8da6a3fcd57/gulpfile.js">84fb58a</a></p>

</section>

            </div>
        </div>
    </main>
</div>

<script src="assets/js/navigation.js"></script>
<script src="assets/js/search.js" async defer></script>
<script src="assets/js/aside.js" async defer></script>
<script src="assets/js/prism.min.js" async></script>
<script src="assets/js/playground.js" async defer></script>
<script src="assets/js/copier.js"></script>

<!--
    This is internal asset assetsfooter.mustache
    To replace it with project JS imports add to config
    "partials": {
      "assetsfooter": "path/to/file.mustache"
    }
-->

</body>
</html>
